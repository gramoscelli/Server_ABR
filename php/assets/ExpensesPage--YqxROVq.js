import{u as $,r as c,b as q,j as e,B as l,e as o,f as d,g as h,h as m}from"./index-CQK1xMEp.js";import{A as H,C as J,a as V,D as Z}from"./AdminLayout-536hJOLm.js";import{I as S,a as _,A as G,b as K}from"./AddTransferDialog-CghFkceP.js";import{C as Q,F as X,D as ee}from"./funnel-DTMgff3d.js";import{P as p}from"./switch-Dz3YD5rp.js";import"./lock-D4HCCPhn.js";import"./log-out-CvvekA6y.js";import"./input-CE_qf2K-.js";import"./label-BnvKK__y.js";function he(){const b=$(),[x,E]=c.useState({income:0,expense:0,balance:0,cashAccount:3e6,totalAvailable:3e6,totalReal:3e6}),[v,M]=c.useState([]),[se,R]=c.useState(!0),[g,w]=c.useState(new Date),[I,f]=c.useState(!1),[k,D]=c.useState(!1),[T,A]=c.useState(!1);c.useEffect(()=>{const s=q.getUser();if(!((s==null?void 0:s.role)==="root"||(s==null?void 0:s.role)==="admin_employee")){b("/profile");return}j()},[b]);const j=async()=>{try{E({income:0,expense:0,balance:0,cashAccount:3e6,totalAvailable:3e6,totalReal:3e6}),M([])}catch(s){console.error("Error fetching data:",s)}finally{R(!1)}},F=()=>{const s=new Date(g);s.setMonth(s.getMonth()-1),w(s)},O=()=>{const s=new Date(g);s.setMonth(s.getMonth()+1),w(s)},L=(()=>{const s=g.getFullYear(),r=g.getMonth(),i=new Date(s,r,1),y=new Date(s,r+1,0),C=i.getDay()===0?6:i.getDay()-1,Y=y.getDate(),N=[];let n=[];for(let t=0;t<C;t++){const a=new Date(s,r,-C+t+1);n.push({day:a.getDate(),isCurrentMonth:!1,date:a})}for(let t=1;t<=Y;t++){const a=new Date(s,r,t),u=a.toDateString()===new Date().toDateString();n.push({day:t,isCurrentMonth:!0,isToday:u,date:a}),n.length===7&&(N.push(n),n=[])}if(n.length>0){const t=7-n.length;for(let a=1;a<=t;a++){const u=new Date(s,r+1,a);n.push({day:a,isCurrentMonth:!1,date:u})}N.push(n)}return N})(),B=g.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),z=["LUN","MAR","MIÉ","JUE","VIE","SÁB","DOM"],P=s=>{console.log("New expense:",s),j()},U=s=>{console.log("New income:",s),j()},W=s=>{console.log("New transfer:",s),j()};return e.jsx(H,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Egresos"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{className:"bg-yellow-500 hover:bg-yellow-600 text-black font-semibold",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Agregar Egreso Recurrente"]}),e.jsxs(l,{className:"bg-red-500 hover:bg-red-600 text-white",onClick:()=>f(!0),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Egreso"]}),e.jsxs(l,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>D(!0),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Ingreso"]}),e.jsxs(l,{className:"bg-gray-900 hover:bg-gray-800 text-white",onClick:()=>A(!0),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Transferencia"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(o,{children:e.jsxs(d,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(l,{variant:"ghost",size:"icon",onClick:F,className:"hover:bg-gray-100",children:e.jsx(J,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-lg font-semibold capitalize",children:B}),e.jsx(l,{variant:"ghost",size:"icon",onClick:O,className:"hover:bg-gray-100",children:e.jsx(V,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"grid grid-cols-7 gap-2",children:z.map(s=>e.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:s},s))}),L.map((s,r)=>e.jsx("div",{className:"grid grid-cols-7 gap-2",children:s.map((i,y)=>e.jsx("div",{className:`
                            aspect-square flex items-center justify-center rounded-lg text-sm font-medium cursor-pointer
                            transition-colors
                            ${i.isCurrentMonth?"":"text-gray-300"}
                            ${i.isToday?"bg-yellow-100 text-yellow-700 border-2 border-yellow-500":i.isCurrentMonth?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-white text-gray-300 hover:bg-gray-50"}
                          `,children:i.day},y))},r))]})]})}),e.jsxs(o,{children:[e.jsx(h,{children:e.jsx(m,{className:"text-xl",children:"Egresos por Categoría"})}),e.jsx(d,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center mb-4",children:e.jsxs("svg",{className:"w-16 h-16 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",opacity:"0.3"}),e.jsx("path",{d:"M12 2 L12 12 L18 8 Z"})]})}),e.jsx("p",{className:"text-gray-500",children:"No hay egresos disponibles en el periodo seleccionado"})]})})]}),e.jsxs(o,{children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{className:"text-xl",children:"Egresos"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",size:"sm",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Filtrar"]}),e.jsxs(l,{variant:"outline",size:"sm",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})}),e.jsx(d,{children:v.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center mb-4",children:e.jsx(Z,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No hay egresos disponibles"}),e.jsxs(l,{className:"bg-yellow-500 hover:bg-yellow-600 text-black font-semibold",onClick:()=>f(!0),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Agregar Egreso"]})]}):e.jsx("div",{className:"space-y-2",children:v.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.description}),e.jsx("p",{className:"text-sm text-gray-500",children:s.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-red-600",children:["-ARS ",s.amount.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-400",children:s.date})]})]},s.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsx(h,{children:e.jsx(m,{className:"text-xl",children:"Balance"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Ingresos"}),e.jsxs("span",{className:"font-semibold",children:["ARS ",x.income.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Egresos"}),e.jsxs("span",{className:"font-semibold",children:["ARS ",x.expense.toFixed(2)]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Balance"}),e.jsxs("span",{className:"font-bold text-lg",children:["ARS ",x.balance.toFixed(2)]})]})})]})]}),e.jsxs(o,{children:[e.jsx(h,{children:e.jsx(m,{className:"text-xl",children:"Cuentas"})}),e.jsx(d,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Efectivo"}),e.jsxs("span",{className:"font-semibold",children:["ARS ",x.cashAccount.toFixed(2)]})]})})]}),e.jsxs(o,{children:[e.jsx(h,{children:e.jsx(m,{className:"text-xl",children:"Total"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Total Disponible"}),e.jsx(S,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("span",{className:"font-semibold",children:["ARS ",x.totalAvailable.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Total Real"}),e.jsx(S,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("span",{className:"font-semibold",children:["ARS ",x.totalReal.toFixed(2)]})]})]})]}),e.jsxs(o,{children:[e.jsx(h,{children:e.jsx(m,{className:"text-xl",children:"Presupuestos"})}),e.jsx(d,{children:e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay presupuestos configurados"})})]})]})]}),e.jsx(_,{open:I,onOpenChange:f,onSubmit:P}),e.jsx(G,{open:k,onOpenChange:D,onSubmit:U}),e.jsx(K,{open:T,onOpenChange:A,onSubmit:W})]})})}export{he as default};
//# sourceMappingURL=ExpensesPage--YqxROVq.js.map
