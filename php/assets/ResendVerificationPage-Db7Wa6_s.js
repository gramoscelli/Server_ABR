import{r as a,j as e,L as d}from"./index-CQK1xMEp.js";import{C as p}from"./circle-check-CC1GL2rZ.js";import{M as b}from"./mail-DCwd_jzR.js";function N(){const[s,m]=a.useState(""),[n,i]=a.useState(""),[l,t]=a.useState(!1),[x,u]=a.useState(!1),f=async r=>{if(r.preventDefault(),i(""),t(!0),!s.includes("@")){i("Por favor ingresa un email válido"),t(!1);return}try{const c=await fetch("/api/csrf-token",{credentials:"include"}),{csrfToken:g}=await c.json(),o=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":g},credentials:"include",body:JSON.stringify({email:s})}),h=await o.json();o.ok?u(!0):i(h.message||"Error al enviar email de verificación")}catch{i("Error de conexión. Por favor intenta nuevamente.")}finally{t(!1)}};return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx(p,{className:"h-6 w-6 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email Enviado"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Si tu email está registrado, recibirás un nuevo enlace de verificación."}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Por favor revisa tu bandeja de entrada y también la carpeta de spam."})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Próximos pasos:"}),e.jsxs("ol",{className:"text-xs text-blue-800 space-y-1 list-decimal list-inside",children:[e.jsxs("li",{children:["Revisa tu email (",s,")"]}),e.jsx("li",{children:"Haz clic en el enlace de verificación"}),e.jsx("li",{children:"Una vez verificado, podrás iniciar sesión"})]})]}),e.jsx("div",{className:"text-center space-y-3",children:e.jsx(d,{to:"/login",className:"inline-block w-full py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ir al Login"})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 mb-4",children:e.jsx(b,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reenviar Verificación"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Ingresa tu email para recibir un nuevo enlace de verificación"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("p",{className:"text-sm text-red-800",children:n})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"tu@email.com",value:s,onChange:r=>m(r.target.value)})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:l?"Enviando...":"Enviar Email de Verificación"})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:e.jsx(d,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Volver al login"})})})]})]})})}export{N as default};
//# sourceMappingURL=ResendVerificationPage-Db7Wa6_s.js.map
