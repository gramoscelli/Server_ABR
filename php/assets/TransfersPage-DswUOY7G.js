import{u as F,r as t,b as O,j as e,B as a,e as l,g as c,h as r,f as i}from"./index-CQK1xMEp.js";import{A as k,C as M,a as z,b as N}from"./AdminLayout-536hJOLm.js";import{I as u,b as L,A as P,a as B}from"./AddTransferDialog-CghFkceP.js";import{C as H,F as U,D as Y}from"./funnel-DTMgff3d.js";import{P as d}from"./switch-Dz3YD5rp.js";import"./lock-D4HCCPhn.js";import"./log-out-CvvekA6y.js";import"./input-CE_qf2K-.js";import"./label-BnvKK__y.js";function ee(){const h=F(),[n,b]=t.useState({income:0,expense:0,balance:0,cashAccount:3e6,totalAvailable:3e6,totalReal:3e6}),[j,y]=t.useState([]),[_,v]=t.useState(!0),[x,g]=t.useState(new Date),[w,m]=t.useState(!1),[A,p]=t.useState(!1),[S,f]=t.useState(!1);t.useEffect(()=>{const s=O.getUser();if(!((s==null?void 0:s.role)==="root"||(s==null?void 0:s.role)==="admin_employee")){h("/profile");return}o()},[h]);const o=async()=>{try{b({income:0,expense:0,balance:0,cashAccount:3e6,totalAvailable:3e6,totalReal:3e6}),y([])}catch(s){console.error("Error fetching data:",s)}finally{v(!1)}},C=()=>{const s=new Date(x);s.setMonth(s.getMonth()-1),g(s)},T=()=>{const s=new Date(x);s.setMonth(s.getMonth()+1),g(s)},D=x.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),R=s=>{console.log("New transfer:",s),o()},E=s=>{console.log("New income:",s),o()},I=s=>{console.log("New expense:",s),o()};return e.jsx(k,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transferencias"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{className:"bg-yellow-500 hover:bg-yellow-600 text-black font-semibold",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Agregar Transferencia Recurrente"]}),e.jsxs(a,{className:"bg-red-500 hover:bg-red-600 text-white",onClick:()=>f(!0),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Egreso"]}),e.jsxs(a,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>p(!0),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Ingreso"]}),e.jsxs(a,{className:"bg-gray-900 hover:bg-gray-800 text-white",onClick:()=>m(!0),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Transferencia"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx(a,{variant:"ghost",size:"icon",onClick:C,className:"hover:bg-gray-100",children:e.jsx(M,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-xl font-semibold capitalize",children:D}),e.jsx(a,{variant:"ghost",size:"icon",onClick:T,className:"hover:bg-gray-100",children:e.jsx(z,{className:"h-5 w-5"})})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-xl",children:"Transferencias"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Filtrar"]}),e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})}),e.jsx(i,{children:j.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gray-200 flex items-center justify-center mb-4",children:e.jsx(N,{className:"h-10 w-10 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No hay transferencias disponibles para el periodo seleccionado"}),e.jsxs(a,{className:"bg-yellow-500 hover:bg-yellow-600 text-black font-semibold",onClick:()=>m(!0),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Agregar Transferencia"]})]}):e.jsx("div",{className:"space-y-2",children:j.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{children:s.fromAccount}),e.jsx(N,{className:"h-3 w-3"}),e.jsx("span",{children:s.toAccount})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["ARS ",s.amount.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-400",children:s.date})]})]},s.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(r,{className:"text-xl",children:"Balance"})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Ingresos"}),e.jsxs("span",{className:"font-semibold",children:["ARS ",n.income.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Egresos"}),e.jsxs("span",{className:"font-semibold",children:["ARS ",n.expense.toFixed(2)]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Balance"}),e.jsxs("span",{className:"font-bold text-lg",children:["ARS ",n.balance.toFixed(2)]})]})})]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(r,{className:"text-xl",children:"Cuentas"})}),e.jsx(i,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Efectivo"}),e.jsxs("span",{className:"font-semibold",children:["ARS ",n.cashAccount.toFixed(2)]})]})})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(r,{className:"text-xl",children:"Total"})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Total Disponible"}),e.jsx(u,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("span",{className:"font-semibold",children:["ARS ",n.totalAvailable.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Total Real"}),e.jsx(u,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("span",{className:"font-semibold",children:["ARS ",n.totalReal.toFixed(2)]})]})]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(r,{className:"text-xl",children:"Presupuestos"})}),e.jsx(i,{children:e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay presupuestos configurados"})})]})]})]}),e.jsx(L,{open:w,onOpenChange:m,onSubmit:R}),e.jsx(P,{open:A,onOpenChange:p,onSubmit:E}),e.jsx(B,{open:S,onOpenChange:f,onSubmit:I})]})})}export{ee as default};
//# sourceMappingURL=TransfersPage-DswUOY7G.js.map
