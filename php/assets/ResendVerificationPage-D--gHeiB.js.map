{"version":3,"file":"ResendVerificationPage-D--gHeiB.js","sources":["../../src/pages/ResendVerificationPage.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Mail, CheckCircle2 } from 'lucide-react';\n\nexport default function ResendVerificationPage() {\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    if (!email.includes('@')) {\n      setError('Por favor ingresa un email válido');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const csrfResponse = await fetch('/api/csrf-token', {\n        credentials: 'include'\n      });\n      const { csrfToken } = await csrfResponse.json();\n\n      const response = await fetch('/api/auth/resend-verification', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRF-Token': csrfToken,\n        },\n        credentials: 'include',\n        body: JSON.stringify({ email }),\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setSuccess(true);\n      } else {\n        setError(data.message || 'Error al enviar email de verificación');\n      }\n    } catch (err) {\n      setError('Error de conexión. Por favor intenta nuevamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (success) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n        <div className=\"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-md\">\n          <div className=\"text-center\">\n            <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4\">\n              <CheckCircle2 className=\"h-6 w-6 text-green-600\" />\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">\n              Email Enviado\n            </h2>\n            <p className=\"mt-4 text-gray-600\">\n              Si tu email está registrado, recibirás un nuevo enlace de verificación.\n            </p>\n            <p className=\"mt-2 text-sm text-gray-500\">\n              Por favor revisa tu bandeja de entrada y también la carpeta de spam.\n            </p>\n          </div>\n\n          <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n            <h4 className=\"text-sm font-semibold text-blue-900 mb-2\">\n              Próximos pasos:\n            </h4>\n            <ol className=\"text-xs text-blue-800 space-y-1 list-decimal list-inside\">\n              <li>Revisa tu email ({email})</li>\n              <li>Haz clic en el enlace de verificación</li>\n              <li>Una vez verificado, podrás iniciar sesión</li>\n            </ol>\n          </div>\n\n          <div className=\"text-center space-y-3\">\n            <Link\n              to=\"/login\"\n              className=\"inline-block w-full py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n            >\n              Ir al Login\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n      <div className=\"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-md\">\n        <div className=\"text-center\">\n          <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 mb-4\">\n            <Mail className=\"h-6 w-6 text-indigo-600\" />\n          </div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            Reenviar Verificación\n          </h2>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            Ingresa tu email para recibir un nuevo enlace de verificación\n          </p>\n        </div>\n\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          {error && (\n            <div className=\"rounded-md bg-red-50 p-4\">\n              <p className=\"text-sm text-red-800\">{error}</p>\n            </div>\n          )}\n\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n              Email\n            </label>\n            <input\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              required\n              className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n              placeholder=\"tu@email.com\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\n            >\n              {loading ? 'Enviando...' : 'Enviar Email de Verificación'}\n            </button>\n          </div>\n\n          <div className=\"text-center\">\n            <p className=\"text-sm text-gray-600\">\n              <Link to=\"/login\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\n                Volver al login\n              </Link>\n            </p>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":["ResendVerificationPage","email","setEmail","useState","error","setError","loading","setLoading","success","setSuccess","handleSubmit","e","csrfResponse","csrfToken","response","data","jsxs","jsx","CheckCircle2","Link","Mail"],"mappings":"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"}