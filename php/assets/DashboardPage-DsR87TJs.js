import{c as O,u as F,r as l,b as M,j as e,B as o,e as a,f as t,g as n,h as c}from"./index-CQK1xMEp.js";import{A as P,D as B,W as L}from"./AdminLayout-536hJOLm.js";import{I as y,A as _,a as q,b as z}from"./AddTransferDialog-CghFkceP.js";import{P as d}from"./switch-Dz3YD5rp.js";import"./lock-D4HCCPhn.js";import"./log-out-CvvekA6y.js";import"./input-CE_qf2K-.js";import"./label-BnvKK__y.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],W=O("receipt",H);function ae(){const p=F(),[r,u]=l.useState({income:0,expense:0,balance:0,cashAccount:0,totalAvailable:0,totalReal:0}),[U,b]=l.useState(!0),[h,V]=l.useState(new Date),[v,j]=l.useState(!1),[w,g]=l.useState(!1),[A,f]=l.useState(!1);l.useEffect(()=>{const s=M.getUser();if(!((s==null?void 0:s.role)==="root"||(s==null?void 0:s.role)==="admin_employee")){p("/profile");return}x()},[p]);const x=async()=>{try{u({income:0,expense:0,balance:0,cashAccount:0,totalAvailable:0,totalReal:0})}catch(s){console.error("Error fetching stats:",s)}finally{b(!1)}},D=(()=>{const s=h.getFullYear(),i=h.getMonth(),R=new Date(s,i,1),k=new Date(s,i+1,0),N=[];for(let m=R.getDate();m<=k.getDate();m++){const T=new Date(s,i,m).toDateString()===new Date().toDateString();N.push({day:m,isToday:T})}return N})(),S=h.toLocaleDateString("es-AR",{month:"long",year:"numeric"}),C=s=>{console.log("New income:",s),x()},I=s=>{console.log("New expense:",s),x()},E=s=>{console.log("New transfer:",s),x()};return e.jsx(P,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Panel de Control"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 capitalize",children:S})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{className:"bg-red-500 hover:bg-red-600 text-white",onClick:()=>g(!0),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Egreso"]}),e.jsxs(o,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>j(!0),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Ingreso"]}),e.jsxs(o,{className:"bg-gray-900 hover:bg-gray-800 text-white",onClick:()=>f(!0),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Transferencia"]})]})]}),e.jsx(a,{children:e.jsx(t,{className:"pt-6",children:e.jsx("div",{className:"grid grid-cols-7 md:grid-cols-14 gap-2",children:D.map(({day:s,isToday:i})=>e.jsx("div",{className:`
                    aspect-square flex items-center justify-center rounded-lg text-sm font-medium cursor-pointer
                    transition-colors
                    ${i?"bg-purple-100 text-purple-700 border-2 border-purple-500":"bg-gray-50 text-gray-700 hover:bg-gray-100"}
                  `,children:s},s))})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(c,{className:"text-xl",children:"Egresos"})}),e.jsx(t,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center mb-4",children:e.jsx(B,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No hay egresos disponibles"}),e.jsxs(o,{className:"bg-yellow-500 hover:bg-yellow-600 text-black font-semibold",onClick:()=>g(!0),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Agregar Egreso"]})]})})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(c,{className:"text-xl",children:"Ingresos"})}),e.jsx(t,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center mb-4",children:e.jsx(L,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No hay ingresos disponibles"}),e.jsxs(o,{className:"bg-yellow-500 hover:bg-yellow-600 text-black font-semibold",onClick:()=>j(!0),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Agregar Ingreso"]})]})})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(c,{className:"text-xl",children:"Facturas"})}),e.jsx(t,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center mb-4",children:e.jsx(W,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No hay facturas recientes disponibles"})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(c,{className:"text-xl",children:"Balance"})}),e.jsxs(t,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Ingresos"}),e.jsxs("span",{className:"font-semibold",children:["ARS ",r.income.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Egresos"}),e.jsxs("span",{className:"font-semibold",children:["ARS ",r.expense.toFixed(2)]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Balance"}),e.jsxs("span",{className:"font-bold text-lg",children:["ARS ",r.balance.toFixed(2)]})]})})]})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(c,{className:"text-xl",children:"Cuentas"})}),e.jsx(t,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Efectivo"}),e.jsxs("span",{className:"font-semibold",children:["ARS ",r.cashAccount.toFixed(2)]})]})})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(c,{className:"text-xl",children:"Total"})}),e.jsxs(t,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Total Disponible"}),e.jsx(y,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("span",{className:"font-semibold",children:["ARS ",r.totalAvailable.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Total Real"}),e.jsx(y,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("span",{className:"font-semibold",children:["ARS ",r.totalReal.toFixed(2)]})]})]})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(c,{className:"text-xl",children:"Presupuestos"})}),e.jsx(t,{children:e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay presupuestos configurados"})})]})]})]}),e.jsx(_,{open:v,onOpenChange:j,onSubmit:C}),e.jsx(q,{open:w,onOpenChange:g,onSubmit:I}),e.jsx(z,{open:A,onOpenChange:f,onSubmit:E})]})})}export{ae as default};
//# sourceMappingURL=DashboardPage-DsR87TJs.js.map
