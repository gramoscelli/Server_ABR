#!/bin/bash
# Script para eliminar node_modules del host
# Los archivos fueron creados por Docker con permisos de root

echo "ğŸ—‘ï¸  Limpiando node_modules del host..."
echo ""

if [ -d "app/node_modules" ]; then
  echo "ğŸ“ Eliminando app/node_modules (requiere sudo)..."
  sudo rm -rf app/node_modules
  echo "âœ… app/node_modules eliminado"
else
  echo "âœ… app/node_modules ya no existe"
fi

if [ -d "frontend/node_modules" ]; then
  echo "ğŸ“ Eliminando frontend/node_modules..."
  sudo rm -rf frontend/node_modules
  echo "âœ… frontend/node_modules eliminado"
else
  echo "âœ… frontend/node_modules ya no existe"
fi

echo ""
echo "âœ¨ Limpieza completada!"
echo ""
echo "ğŸ“ Los node_modules ahora solo existirÃ¡n dentro de los contenedores Docker."
echo "   No se crearÃ¡n nuevamente en el host gracias a:"
echo "   - .dockerignore (excluye de builds)"
echo "   - .gitignore (excluye de Git)"
echo "   - VolÃºmenes anÃ³nimos en docker-compose.yml (excluye del mount)"
